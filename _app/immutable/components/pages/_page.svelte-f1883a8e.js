import{S as Y,i as K,s as X,k as T,a as W,q as H,l as S,m as I,h as g,c as A,r as R,n as E,b as B,F as b,H as D,A as F,I as ae,p as q,J as ie,K as ce,L as Je,g as fe,M as qe,d as ue,f as U,t as z,o as De,B as Ye,C as Ke,D as Xe,E as Qe,N as Ze,z as oe,O as be,v as Q,w as Z,x,y as $,G as he,P as se,Q as ve,R as ne,u as xe,T as we,e as ke,U as $e,V as et}from"../../chunks/index-b079c000.js";import{w as _e}from"../../chunks/index-d5b5cf13.js";const ge="Alle Lieder",de="Favoriten",Ue=_e([{T:ge,S:[]},{T:de,S:[]}]),ze=_e({}),me=_e(null);async function tt(){localStorage.removeItem("songs");const e=await(await fetch("songs.json")).text();return JSON.parse(e)}async function lt(){const s=await tt(),e={};s.B.sort((t,l)=>t.T>l.T?1:-1),s.B.forEach(t=>{Ue.update(n=>[...n,t]);const l=[];for(const n of t.S)l.push({song:s.S.find(o=>o.I===n.V),songInsideBook:n});e[t.T]=l}),s.S.sort((t,l)=>t.T>l.T?1:-1),e[ge]=s.S.map(t=>({song:t})),e[de]=[],ze.set(e)}function Le(s,e){let t="",l=!1;for(let n=0;n<s.length;n++){const o=s[n];o==="{"?l=!0:o==="}"?l=!1:l?e&&(t+=`<sup class="text-red-600">${o}</sup>`):t+=o}return t}function st(s){const e=localStorage.getItem("favorites");return e!=null&&e.includes(s)}function nt(s){var t;let e=(t=localStorage.getItem("favorites"))!=null?t:"";s=`${s};`,e.length&&e.includes(s)?e=e.replace(s,""):e+=s;try{localStorage.setItem("favorites",e)}catch{}}function ot(){const s=localStorage.getItem("favorites");return s?s.split(";"):[]}function it(){localStorage.getItem("hideLatinLetters")!=null?localStorage.removeItem("hideLatinLetters"):localStorage.setItem("hideLatinLetters","")}function Te(){return localStorage.getItem("hideLatinLetters")==null}function rt(){localStorage.getItem("hideTranslation")!=null?localStorage.removeItem("hideTranslation"):localStorage.setItem("hideTranslation","")}function Se(){return localStorage.getItem("hideTranslation")==null}function at(){localStorage.getItem("hideNotes")!=null?localStorage.removeItem("hideNotes"):localStorage.setItem("hideNotes","")}function Ie(){return localStorage.getItem("hideNotes")==null}function ct(s,e){return e=e.toLocaleLowerCase(),s.filter(t=>ft(t,e)).sort((t,l)=>Ee(t,l,n=>n.T.toLocaleLowerCase().includes(e))).sort((t,l)=>Ee(t,l,n=>n.T.toLocaleLowerCase().startsWith(e)))}function Ee(s,e,t){const l=t(s.song),n=t(e.song);return l&&!n?-1:!l&&n?1:0}function ft(s,e){if(e.trim()==="")return!0;const t=s.song.T.toLocaleLowerCase();e=e.toLocaleLowerCase();const l=Number(e);return!Number.isNaN(l)&&s.songInsideBook?s.songInsideBook.I===l:!!e.trim().split(" ").every(o=>t.includes(o))}function ut(s){let e,t,l,n,o,i,c,r;return{c(){e=T("div"),t=T("p"),l=W(),n=T("span"),o=H("star"),this.h()},l(a){e=S(a,"DIV",{class:!0});var u=I(e);t=S(u,"P",{class:!0});var f=I(t);f.forEach(g),l=A(u),n=S(u,"SPAN",{class:!0});var _=I(n);o=R(_,"star"),_.forEach(g),u.forEach(g),this.h()},h(){E(t,"class","flex-1 whitespace-nowrap overflow-hidden"),E(n,"class",i=`material-symbols-outlined ${s[1]?"material-symbols-filled":""}`),E(e,"class","flex")},m(a,u){B(a,e,u),b(e,t),t.innerHTML=s[0],b(e,l),b(e,n),b(n,o),c||(r=[D(t,"click",s[2]),D(n,"click",s[3])],c=!0)},p(a,[u]){u&1&&(t.innerHTML=a[0]),u&2&&i!==(i=`material-symbols-outlined ${a[1]?"material-symbols-filled":""}`)&&E(n,"class",i)},i:F,o:F,d(a){a&&g(e),c=!1,ae(r)}}}function ht(s,e,t){let{songWithInsideBook:l}=e,{searchtext:n}=e;const o=()=>{window.history.replaceState({scrollY:window.scrollY},""),window.history.pushState({song:l},""),window.scroll(0,0),me.set(l.song.I)};let i=!1;const c=()=>{nt(l.song.I),t(1,i=!i)};let r;return s.$$set=a=>{"songWithInsideBook"in a&&t(4,l=a.songWithInsideBook),"searchtext"in a&&t(5,n=a.searchtext)},s.$$.update=()=>{var a,u;if(s.$$.dirty&16&&t(1,i=st(l.song.I)),s.$$.dirty&49){const f=n.trim().toLocaleLowerCase().split(" ");f.sort((d,k)=>d.length<k.length?1:-1);const _=(u=(a=l.songInsideBook)==null?void 0:a.I)!=null?u:null;t(0,r=l.song.T),_&&t(0,r=`${_} - ${r}`);for(const d of f){const k=d.length;let y=-1;const P=()=>y+k;do{if(y>=r.length){y=-1;break}y=r.toLocaleLowerCase().indexOf(d,y+1)}while(y>=0&&(r.substring(0,y).split("<").length%2===0||r.substring(y,P()).split("<").length%2===0));if(y>=0){const v=r.substring(y,P());t(0,r=r.slice(0,y)+`<p class="font-bold inline">${v}</p>`+r.slice(P()))}}}},[r,i,o,c,l,n]}class _t extends Y{constructor(e){super(),K(this,e,ht,ut,X,{songWithInsideBook:4,searchtext:5})}}function ye(s,e,t){const l=s.slice();return l[26]=e[t],l}const gt=s=>({item:s&16}),Be=s=>({item:s[26].data});function dt(s){let e;return{c(){e=H("Missing template")},l(t){e=R(t,"Missing template")},m(t,l){B(t,e,l)},d(t){t&&g(e)}}}function Ne(s,e){let t,l,n;const o=e[14].default,i=Ye(o,e,e[13],Be),c=i||dt();return{key:s,first:null,c(){t=T("svelte-virtual-list-row"),c&&c.c(),l=W(),this.h()},l(r){t=S(r,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var a=I(t);c&&c.l(a),l=A(a),a.forEach(g),this.h()},h(){ie(t,"class","svelte-1qjzn1a"),this.first=t},m(r,a){B(r,t,a),c&&c.m(t,null),b(t,l),n=!0},p(r,a){e=r,i&&i.p&&(!n||a&8208)&&Ke(i,o,e,e[13],n?Qe(o,e[13],a,gt):Xe(e[13]),Be)},i(r){n||(U(c,r),n=!0)},o(r){z(c,r),n=!1},d(r){r&&g(t),c&&c.d(r)}}}function mt(s){let e,t,l=[],n=new Map,o,i,c,r,a=s[4];const u=f=>f[26].index;for(let f=0;f<a.length;f+=1){let _=ye(s,a,f),d=u(_);n.set(d,l[f]=Ne(d,_))}return{c(){e=T("svelte-virtual-list-viewport"),t=T("svelte-virtual-list-contents");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){e=S(f,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var _=I(e);t=S(_,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var d=I(t);for(let k=0;k<l.length;k+=1)l[k].l(d);d.forEach(g),_.forEach(g),this.h()},h(){q(t,"padding-top",s[5]+"px"),q(t,"padding-bottom",s[6]+"px"),ie(t,"class","svelte-1qjzn1a"),q(e,"height",s[0]),ie(e,"class","svelte-1qjzn1a"),ce(()=>s[17].call(e))},m(f,_){B(f,e,_),b(e,t);for(let d=0;d<l.length;d+=1)l[d].m(t,null);s[15](t),s[16](e),o=Je(e,s[17].bind(e)),i=!0,c||(r=D(e,"scroll",s[7]),c=!0)},p(f,[_]){_&8208&&(a=f[4],fe(),l=qe(l,_,u,1,f,a,n,t,Ze,Ne,null,ye),ue()),(!i||_&32)&&q(t,"padding-top",f[5]+"px"),(!i||_&64)&&q(t,"padding-bottom",f[6]+"px"),(!i||_&1)&&q(e,"height",f[0])},i(f){if(!i){for(let _=0;_<a.length;_+=1)U(l[_]);i=!0}},o(f){for(let _=0;_<l.length;_+=1)z(l[_]);i=!1},d(f){f&&g(e);for(let _=0;_<l.length;_+=1)l[_].d();s[15](null),s[16](null),o(),c=!1,r()}}}function pt(s,e,t){let{$$slots:l={},$$scope:n}=e,{items:o}=e,{height:i="100%"}=e,{itemHeight:c=void 0}=e,{start:r=0}=e,{end:a=0}=e,u=[],f,_,d,k=0,y,P,v=0,L=0,M;o.length;async function C(){let p=o.length;if(f=d.getElementsByTagName("svelte-virtual-list-row"),t(5,v=0),t(6,L=0),u=[],p==0){t(8,r=0),t(9,a=0);return}r>o.length-1&&(t(8,r=o.length-1),t(9,a=o.length-1)),V(),h()}async function V(){const{scrollTop:p}=_;await oe();let G=v-p,O=r;for(;G<k&&O<o.length;){let ee=f[O-r];ee||(t(9,a=O+1),await oe(),ee=f[O-r]),G+=u[O]=c||ee.offsetHeight,O+=1}t(9,a=O);const j=o.length-a;M=(v+G)/a,t(6,L=j*M),u.length=o.length}async function h(){const{scrollTop:p}=_,G=r;for(let J=0;J<f.length;J+=1)u[r+J]=c||f[J].offsetHeight;let O=0,j=0;for(;O<o.length;){const J=u[O]||M;if(j+J>p){t(8,r=O),t(5,v=j);break}j+=J,O+=1}for(;O<o.length&&(j+=u[O]||M,O+=1,!(j>p+k)););t(9,a=O);const ee=o.length-a;for(M=j/a;O<o.length;)u[O++]=M;if(t(6,L=ee*M),r<G){await oe();let J=0,pe=0;for(let te=r;te<G;te+=1)f[te-r]&&(J+=u[te],pe+=c||f[te-r].offsetHeight);const Ge=pe-J;_.scrollTo(0,p+Ge)}}De(()=>{f=d.getElementsByTagName("svelte-virtual-list-row"),t(12,P=!0)});function w(p){be[p?"unshift":"push"](()=>{d=p,t(3,d)})}function m(p){be[p?"unshift":"push"](()=>{_=p,t(2,_)})}function N(){k=this.offsetHeight,t(1,k)}return s.$$set=p=>{"items"in p&&t(10,o=p.items),"height"in p&&t(0,i=p.height),"itemHeight"in p&&t(11,c=p.itemHeight),"start"in p&&t(8,r=p.start),"end"in p&&t(9,a=p.end),"$$scope"in p&&t(13,n=p.$$scope)},s.$$.update=()=>{s.$$.dirty&1792&&t(4,y=o.slice(r,a).map((p,G)=>({index:G+r,data:p}))),s.$$.dirty&6146&&P&&(k||!0)&&(c||!0)&&V(),s.$$.dirty&5120&&P&&o&&C(),s.$$.dirty&1024&&o.length},[i,k,_,d,y,v,L,h,r,a,o,c,P,n,l,w,m,N]}class bt extends Y{constructor(e){super(),K(this,e,pt,mt,X,{items:10,height:0,itemHeight:11,start:8,end:9})}}function vt(s){let e,t;return e=new _t({props:{songWithInsideBook:s[4],searchtext:s[0]}}),{c(){Q(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){x(e,l,n),t=!0},p(l,n){const o={};n&16&&(o.songWithInsideBook=l[4]),n&1&&(o.searchtext=l[0]),e.$set(o)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function wt(s){let e,t,l;return t=new bt({props:{items:s[1],height:"100%",$$slots:{default:[vt,({item:n})=>({4:n}),({item:n})=>n?16:0]},$$scope:{ctx:s}}}),{c(){e=T("div"),Q(t.$$.fragment),this.h()},l(n){e=S(n,"DIV",{id:!0,class:!0});var o=I(e);Z(t.$$.fragment,o),o.forEach(g),this.h()},h(){E(e,"id","virtual-list-div"),E(e,"class","text-left flex-1 overflow-auto px-1 w-full")},m(n,o){B(n,e,o),x(t,e,null),l=!0},p(n,[o]){const i={};o&2&&(i.items=n[1]),o&49&&(i.$$scope={dirty:o,ctx:n}),t.$set(i)},i(n){l||(U(t.$$.fragment,n),l=!0)},o(n){z(t.$$.fragment,n),l=!1},d(n){n&&g(e),$(t)}}}function kt(s,e,t){let l;he(s,ze,c=>t(3,l=c));let{selectedBook:n}=e,{searchtext:o}=e,i;return s.$$set=c=>{"selectedBook"in c&&t(2,n=c.selectedBook),"searchtext"in c&&t(0,o=c.searchtext)},s.$$.update=()=>{if(s.$$.dirty&13){let c;if(n.T!==de)c=l[n.T];else{const r=l[ge],a=ot();c=r.filter(u=>a.includes(u.song.I))}t(1,i=ct(c,o))}},[o,i,n,l]}class je extends Y{constructor(e){super(),K(this,e,kt,wt,X,{selectedBook:2,searchtext:0})}}function Ve(s,e,t){const l=s.slice();return l[10]=e[t],l}function Oe(s,e,t){const l=s.slice();return l[10]=e[t],l}function Me(s){let e,t=s[10].T+"",l;return{c(){e=T("option"),l=H(t),this.h()},l(n){e=S(n,"OPTION",{});var o=I(e);l=R(o,t),o.forEach(g),this.h()},h(){e.__value=s[10],e.value=e.__value},m(n,o){B(n,e,o),b(e,l)},p:F,d(n){n&&g(e)}}}function Pe(s){let e,t,l,n=s[4],o=[];for(let i=0;i<n.length;i+=1)o[i]=Ce(Ve(s,n,i));return{c(){e=T("select");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=S(i,"SELECT",{class:!0});var c=I(e);for(let r=0;r<o.length;r+=1)o[r].l(c);c.forEach(g),this.h()},h(){E(e,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0"),s[2]===void 0&&ce(()=>s[7].call(e))},m(i,c){B(i,e,c);for(let r=0;r<o.length;r+=1)o[r].m(e,null);se(e,s[2]),t||(l=[D(e,"change",s[7]),D(e,"change",re)],t=!0)},p(i,c){if(c&16){n=i[4];let r;for(r=0;r<n.length;r+=1){const a=Ve(i,n,r);o[r]?o[r].p(a,c):(o[r]=Ce(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}c&20&&se(e,i[2])},d(i){i&&g(e),ne(o,i),t=!1,ae(l)}}}function Ce(s){let e,t=s[10].T.split(" ",2)[1]+"",l,n;return{c(){e=T("option"),l=H(t),this.h()},l(o){e=S(o,"OPTION",{});var i=I(e);l=R(i,t),i.forEach(g),this.h()},h(){e.__value=n=s[10],e.value=e.__value},m(o,i){B(o,e,i),b(e,l)},p(o,i){i&16&&t!==(t=o[10].T.split(" ",2)[1]+"")&&xe(l,t),i&16&&n!==(n=o[10])&&(e.__value=n,e.value=e.__value)},d(o){o&&g(e)}}}function Lt(s){let e,t;return e=new je({props:{selectedBook:s[1],searchtext:s[3]}}),{c(){Q(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){x(e,l,n),t=!0},p(l,n){const o={};n&2&&(o.selectedBook=l[1]),n&8&&(o.searchtext=l[3]),e.$set(o)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function Tt(s){let e,t;return e=new je({props:{selectedBook:s[2],searchtext:s[3]}}),{c(){Q(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){x(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.selectedBook=l[2]),n&8&&(o.searchtext=l[3]),e.$set(o)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function St(s){let e,t,l,n,o=s[1]!=null&&le(s[1]),i,c,r,a,u,f,_,d,k,y,P=s[5],v=[];for(let h=0;h<P.length;h+=1)v[h]=Me(Oe(s,P,h));let L=o&&Pe(s);const M=[Tt,Lt],C=[];function V(h,w){return w&2&&(a=null),h[1]!=null&&h[2]?0:(a==null&&(a=!!(h[1]!=null&&It(h[1]))),a?1:-1)}return~(u=V(s,-1))&&(f=C[u]=M[u](s)),{c(){e=T("div"),t=T("div"),l=T("select");for(let h=0;h<v.length;h+=1)v[h].c();n=W(),L&&L.c(),i=W(),c=T("input"),r=W(),f&&f.c(),this.h()},l(h){e=S(h,"DIV",{class:!0});var w=I(e);t=S(w,"DIV",{});var m=I(t);l=S(m,"SELECT",{class:!0});var N=I(l);for(let p=0;p<v.length;p+=1)v[p].l(N);N.forEach(g),n=A(m),L&&L.l(m),i=A(m),c=S(m,"INPUT",{class:!0,placeholder:!0,type:!0}),m.forEach(g),r=A(w),f&&f.l(w),w.forEach(g),this.h()},h(){E(l,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0"),s[1]===void 0&&ce(()=>s[6].call(l)),E(c,"class","input input-bordered w-full max-w-md mb-1 focus:border-current focus:ring-0"),E(c,"placeholder","Suche"),E(c,"type","search"),E(e,"class",_=`${s[0]?"":"hidden"} flex flex-col overflow-hidden w-full h-full p-1`)},m(h,w){B(h,e,w),b(e,t),b(t,l);for(let m=0;m<v.length;m+=1)v[m].m(l,null);se(l,s[1]),b(t,n),L&&L.m(t,null),b(t,i),b(t,c),ve(c,s[3]),b(e,r),~u&&C[u].m(e,null),d=!0,k||(y=[D(l,"change",s[6]),D(l,"change",re),D(c,"input",s[8]),D(c,"change",re)],k=!0)},p(h,[w]){if(w&32){P=h[5];let N;for(N=0;N<P.length;N+=1){const p=Oe(h,P,N);v[N]?v[N].p(p,w):(v[N]=Me(p),v[N].c(),v[N].m(l,null))}for(;N<v.length;N+=1)v[N].d(1);v.length=P.length}w&34&&se(l,h[1]),w&2&&(o=h[1]!=null&&le(h[1])),o?L?L.p(h,w):(L=Pe(h),L.c(),L.m(t,i)):L&&(L.d(1),L=null),w&8&&ve(c,h[3]);let m=u;u=V(h,w),u===m?~u&&C[u].p(h,w):(f&&(fe(),z(C[m],1,1,()=>{C[m]=null}),ue()),~u?(f=C[u],f?f.p(h,w):(f=C[u]=M[u](h),f.c()),U(f,1),f.m(e,null)):f=null),(!d||w&1&&_!==(_=`${h[0]?"":"hidden"} flex flex-col overflow-hidden w-full h-full p-1`))&&E(e,"class",_)},i(h){d||(U(f),d=!0)},o(h){z(f),d=!1},d(h){h&&g(e),ne(v,h),L&&L.d(),~u&&C[u].d(),k=!1,ae(y)}}}function re(){document.getElementById("virtual-list").scrollTop=0}function le(s){return s.hasOwnProperty("B")}function It(s){return!le(s)}function Et(s,e,t){let l;he(s,Ue,d=>t(9,l=d));let{visible:n}=e,o="",i,c,r,a=[...l.filter(d=>!d.T.startsWith("Jugendmappe ")&&!d.T.startsWith("Weitere ")),{T:"Jugendmappen",B:l.filter(d=>d.T.startsWith("Jugendmappe "))},{T:"Weitere",B:l.filter(d=>d.T.startsWith("Weitere "))}];function u(){i=we(this),t(1,i),t(5,a)}function f(){c=we(this),t(2,c),t(1,i),t(4,r),t(1,i)}function _(){o=this.value,t(3,o)}return s.$$set=d=>{"visible"in d&&t(0,n=d.visible)},s.$$.update=()=>{s.$$.dirty&2&&(i&&le(i)?t(4,r=i.B):(t(4,r=new Array),t(2,c=null))),s.$$.dirty&6&&i&&le(i)&&!c&&t(2,c=i.B[0])},[n,i,c,o,r,a,u,f,_]}class yt extends Y{constructor(e){super(),K(this,e,Et,St,X,{visible:0})}}function Fe(s,e,t){const l=s.slice();return l[11]=e[t],l}function We(s,e,t){const l=s.slice();return l[14]=e[t],l[16]=t,l}function Bt(s){let e,t,l,n;return{c(){e=T("button"),t=H("music_note"),this.h()},l(o){e=S(o,"BUTTON",{class:!0});var i=I(e);t=R(i,"music_note"),i.forEach(g),this.h()},h(){E(e,"class","material-symbols-outlined btn btn-sm btn-circle")},m(o,i){B(o,e,i),b(e,t),l||(n=D(e,"click",s[7]),l=!0)},p:F,d(o){o&&g(e),l=!1,n()}}}function Nt(s){let e,t,l,n;return{c(){e=T("button"),t=H("translate"),this.h()},l(o){e=S(o,"BUTTON",{class:!0});var i=I(e);t=R(i,"translate"),i.forEach(g),this.h()},h(){E(e,"class","material-symbols-outlined btn btn-sm btn-circle")},m(o,i){B(o,e,i),b(e,t),l||(n=D(e,"click",s[6]),l=!0)},p:F,d(o){o&&g(e),l=!1,n()}}}function Vt(s){let e,t,l,n;return{c(){e=T("button"),t=H("subtitles"),this.h()},l(o){e=S(o,"BUTTON",{class:!0});var i=I(e);t=R(i,"subtitles"),i.forEach(g),this.h()},h(){E(e,"class","material-symbols-outlined btn btn-sm btn-circle")},m(o,i){B(o,e,i),b(e,t),l||(n=D(e,"click",s[5]),l=!0)},p:F,d(o){o&&g(e),l=!1,n()}}}function Ae(s){let e,t=Le(s[14],s[2])+"";return{c(){e=T("p"),this.h()},l(l){e=S(l,"P",{class:!0});var n=I(e);n.forEach(g),this.h()},h(){E(e,"class",`w-full ${s[8](s[11],s[16])}`)},m(l,n){B(l,e,n),e.innerHTML=t},p(l,n){n&4&&t!==(t=Le(l[14],l[2])+"")&&(e.innerHTML=t)},d(l){l&&g(e)}}}function He(s){let e,t=(!s[3].song.M||s[16]===s[11].L.length-1&&s[1]||s[16]%2===0||s[16]!==s[11].L.length-1&&s[0])&&Ae(s);return{c(){t&&t.c(),e=ke()},l(l){t&&t.l(l),e=ke()},m(l,n){t&&t.m(l,n),B(l,e,n)},p(l,n){!l[3].song.M||l[16]===l[11].L.length-1&&l[1]||l[16]%2===0||l[16]!==l[11].L.length-1&&l[0]?t?t.p(l,n):(t=Ae(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&g(e)}}}function Re(s){let e,t,l=s[11].T+"",n,o,i,c=s[11].L,r=[];for(let a=0;a<c.length;a+=1)r[a]=He(We(s,c,a));return{c(){e=T("div"),t=T("p"),n=H(l),o=W();for(let a=0;a<r.length;a+=1)r[a].c();i=W(),this.h()},l(a){e=S(a,"DIV",{class:!0});var u=I(e);t=S(u,"P",{class:!0});var f=I(t);n=R(f,l),f.forEach(g),o=A(u);for(let _=0;_<r.length;_+=1)r[_].l(u);i=A(u),u.forEach(g),this.h()},h(){E(t,"class","font-bold"),E(e,"class","w-full pt-2")},m(a,u){B(a,e,u),b(e,t),b(t,n),b(e,o);for(let f=0;f<r.length;f+=1)r[f].m(e,null);b(e,i)},p(a,u){if(u&271){c=a[11].L;let f;for(f=0;f<c.length;f+=1){const _=We(a,c,f);r[f]?r[f].p(_,u):(r[f]=He(_),r[f].c(),r[f].m(e,i))}for(;f<r.length;f+=1)r[f].d(1);r.length=c.length}},d(a){a&&g(e),ne(r,a)}}}function Ot(s){let e,t,l,n,o=s[3].song.T+"",i,c,r,a,u,f,_,d,k,y,P,v=s[9]&&Bt(s),L=s[3].song.M&&Nt(s),M=s[3].song.M&&Vt(s),C=s[3].song.V,V=[];for(let h=0;h<C.length;h+=1)V[h]=Re(Fe(s,C,h));return{c(){e=T("div"),t=T("div"),l=T("div"),n=T("p"),i=H(o),c=W(),v&&v.c(),r=W(),L&&L.c(),a=W(),M&&M.c(),u=W(),f=T("button"),_=H("X"),d=W(),k=T("div");for(let h=0;h<V.length;h+=1)V[h].c();this.h()},l(h){e=S(h,"DIV",{class:!0});var w=I(e);t=S(w,"DIV",{class:!0});var m=I(t);l=S(m,"DIV",{class:!0});var N=I(l);n=S(N,"P",{class:!0});var p=I(n);i=R(p,o),p.forEach(g),N.forEach(g),c=A(m),v&&v.l(m),r=A(m),L&&L.l(m),a=A(m),M&&M.l(m),u=A(m),f=S(m,"BUTTON",{class:!0});var G=I(f);_=R(G,"X"),G.forEach(g),m.forEach(g),d=A(w),k=S(w,"DIV",{class:!0});var O=I(k);for(let j=0;j<V.length;j+=1)V[j].l(O);O.forEach(g),w.forEach(g),this.h()},h(){E(n,"class","whitespace-nowrap md:ml-8 text-left md:text-center text-ellipsis text-md md:text-1xl font-bold self-center"),E(l,"class","flex-1 flex overflow-hidden ml-2"),E(f,"class","btn btn-sm btn-circle"),E(t,"class","w-full flex mt-2 mr-2 gap-1"),E(k,"class","overflow-auto flex flex-col items-center w-full md:max-w-2xl"),E(e,"class","flex-1 flex flex-col items-center overflow-hidden w-full")},m(h,w){B(h,e,w),b(e,t),b(t,l),b(l,n),b(n,i),b(t,c),v&&v.m(t,null),b(t,r),L&&L.m(t,null),b(t,a),M&&M.m(t,null),b(t,u),b(t,f),b(f,_),b(e,d),b(e,k);for(let m=0;m<V.length;m+=1)V[m].m(k,null);y||(P=D(f,"click",s[4]),y=!0)},p(h,[w]){if(h[9]&&v.p(h,w),h[3].song.M&&L.p(h,w),h[3].song.M&&M.p(h,w),w&271){C=h[3].song.V;let m;for(m=0;m<C.length;m+=1){const N=Fe(h,C,m);V[m]?V[m].p(N,w):(V[m]=Re(N),V[m].c(),V[m].m(k,null))}for(;m<V.length;m+=1)V[m].d(1);V.length=C.length}},i:F,o:F,d(h){h&&g(e),v&&v.d(),L&&L.d(),M&&M.d(),ne(V,h),y=!1,P()}}}function Mt(s,e,t){const l=window.history.state.song,n=async()=>{window.history.back()};function o(){const k=window.history.state.scrollY;window.scroll(0,k),me.set(null)}De(()=>(window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)));let i=Te(),c=Se(),r=Ie();function a(){it(),t(0,i=Te())}function u(){rt(),t(1,c=Se())}function f(){at(),t(2,r=Ie())}function _(k,y){return l.song.M?y===k.L.length-1?"text-green-600":y%2===1?"text-yellow-600":"":""}const d=l.song.V.some(k=>k.L.some(y=>y.includes("{")));return[i,c,r,l,n,a,u,f,_,d]}class Pt extends Y{constructor(e){super(),K(this,e,Mt,Ot,X,{})}}function Ct(s){let e,t,l,n=s[3]+"",o;return{c(){e=T("p"),t=H("Es ist ein Fehler bei dem Laden der Lieder aufgetreten."),l=W(),o=H(n)},l(i){e=S(i,"P",{});var c=I(e);t=R(c,"Es ist ein Fehler bei dem Laden der Lieder aufgetreten."),c.forEach(g),l=A(i),o=R(i,n)},m(i,c){B(i,e,c),b(e,t),B(i,l,c),B(i,o,c)},p:F,i:F,o:F,d(i){i&&g(e),i&&g(l),i&&g(o)}}}function Ft(s){let e,t,l,n,o;const i=[At,Wt],c=[];function r(a,u){return a[0]?0:1}return e=r(s),t=c[e]=i[e](s),n=new yt({props:{visible:s[0]==null}}),{c(){t.c(),l=W(),Q(n.$$.fragment)},l(a){t.l(a),l=A(a),Z(n.$$.fragment,a)},m(a,u){c[e].m(a,u),B(a,l,u),x(n,a,u),o=!0},p(a,u){let f=e;e=r(a),e!==f&&(fe(),z(c[f],1,1,()=>{c[f]=null}),ue(),t=c[e],t||(t=c[e]=i[e](a),t.c()),U(t,1),t.m(l.parentNode,l));const _={};u&1&&(_.visible=a[0]==null),n.$set(_)},i(a){o||(U(t),U(n.$$.fragment,a),o=!0)},o(a){z(t),z(n.$$.fragment,a),o=!1},d(a){c[e].d(a),a&&g(l),$(n,a)}}}function Wt(s){let e,t,l;return{c(){e=T("div"),t=T("h1"),l=H("Geistliche Lieder!"),this.h()},l(n){e=S(n,"DIV",{class:!0});var o=I(e);t=S(o,"H1",{class:!0});var i=I(t);l=R(i,"Geistliche Lieder!"),i.forEach(g),o.forEach(g),this.h()},h(){E(t,"class","svelte-1t9p47t"),E(e,"class","prose m-auto h-auto mx-auto my-1")},m(n,o){B(n,e,o),b(e,t),b(t,l)},i:F,o:F,d(n){n&&g(e)}}}function At(s){let e,t;return e=new Pt({}),{c(){Q(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){x(e,l,n),t=!0},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function Ht(s){let e,t;return{c(){e=H(`Lade Lieder...\r
    `),t=T("progress"),this.h()},l(l){e=R(l,`Lade Lieder...\r
    `),t=S(l,"PROGRESS",{class:!0}),I(t).forEach(g),this.h()},h(){E(t,"class","progress w-56")},m(l,n){B(l,e,n),B(l,t,n)},p:F,i:F,o:F,d(l){l&&g(e),l&&g(t)}}}function Rt(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:Ht,then:Ft,catch:Ct,error:3,blocks:[,,,]};return $e(s[1],l),{c(){e=T("main"),l.block.c(),this.h()},l(n){e=S(n,"MAIN",{class:!0});var o=I(e);l.block.l(o),o.forEach(g),this.h()},h(){E(e,"class","overflow-hidden flex justify-center items-center svelte-1t9p47t")},m(n,o){B(n,e,o),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[o]){s=n,et(l,s,o)},i(n){t||(U(l.block),t=!0)},o(n){for(let o=0;o<3;o+=1){const i=l.blocks[o];z(i)}t=!1},d(n){n&&g(e),l.block.d(),l.token=null,l=null}}}function Dt(s,e,t){let l;he(s,me,i=>t(2,l=i));const n=lt();let o;return"scrollRestoration"in history&&(history.scrollRestoration="manual"),s.$$.update=()=>{var i,c;s.$$.dirty&4&&t(0,o=(c=(i=window.history.state)==null?void 0:i.song)!=null?c:null)},[o,n,l]}class jt extends Y{constructor(e){super(),K(this,e,Dt,Rt,X,{})}}export{jt as default};
