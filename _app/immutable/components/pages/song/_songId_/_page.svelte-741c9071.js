import{S as Be,i as De,s as Oe,k as m,q as y,a as I,l as _,m as p,r as S,h as f,c as T,n as u,b as F,D as o,K as Z,E as $,U as Me,V as Ae,J as ie,e as we}from"../../../../chunks/index-114b6da5.js";import{p as Pe}from"../../../../chunks/stores-8096c392.js";import{A as Ue,e as ke,f as Ee,h as Le,g as Fe,j as Ce,k as He,l as je,t as qe,d as Ke,a as Xe,m as Ie}from"../../../../chunks/song-aa56b44f.js";function Te(s,e,t){const l=s.slice();return l[17]=e[t],l}function Ne(s,e,t){const l=s.slice();return l[20]=e[t],l[22]=t,l}function Ge(s){let e,t,l,n;return{c(){e=m("button"),t=y("music_note"),this.h()},l(r){e=_(r,"BUTTON",{class:!0});var h=p(e);t=S(h,"music_note"),h.forEach(f),this.h()},h(){u(e,"class","material-symbols-outlined btn btn-sm btn-circle")},m(r,h){F(r,e,h),o(e,t),l||(n=Z(e,"click",s[7]),l=!0)},p:$,d(r){r&&f(e),l=!1,n()}}}function Je(s){let e,t,l,n;return{c(){e=m("button"),t=y("translate"),this.h()},l(r){e=_(r,"BUTTON",{class:!0});var h=p(e);t=S(h,"translate"),h.forEach(f),this.h()},h(){u(e,"class","material-symbols-outlined btn btn-sm btn-circle")},m(r,h){F(r,e,h),o(e,t),l||(n=Z(e,"click",s[6]),l=!0)},p:$,d(r){r&&f(e),l=!1,n()}}}function Re(s){let e,t,l,n;return{c(){e=m("button"),t=y("subtitles"),this.h()},l(r){e=_(r,"BUTTON",{class:!0});var h=p(e);t=S(h,"subtitles"),h.forEach(f),this.h()},h(){u(e,"class","material-symbols-outlined btn btn-sm btn-circle")},m(r,h){F(r,e,h),o(e,t),l||(n=Z(e,"click",s[5]),l=!0)},p:$,d(r){r&&f(e),l=!1,n()}}}function ye(s){let e,t=Ie(s[20],s[2])+"";return{c(){e=m("p"),this.h()},l(l){e=_(l,"P",{class:!0});var n=p(e);n.forEach(f),this.h()},h(){u(e,"class",`w-full ${s[8](s[17],s[22])}`)},m(l,n){F(l,e,n),e.innerHTML=t},p(l,n){n&4&&t!==(t=Ie(l[20],l[2])+"")&&(e.innerHTML=t)},d(l){l&&f(e)}}}function Se(s){let e,t=(!s[4].song.M||s[22]===s[17].L.length-1&&s[1]||s[22]%2===0||s[22]!==s[17].L.length-1&&s[0])&&ye(s);return{c(){t&&t.c(),e=we()},l(l){t&&t.l(l),e=we()},m(l,n){t&&t.m(l,n),F(l,e,n)},p(l,n){!l[4].song.M||l[22]===l[17].L.length-1&&l[1]||l[22]%2===0||l[22]!==l[17].L.length-1&&l[0]?t?t.p(l,n):(t=ye(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&f(e)}}}function Ve(s){let e,t,l=s[17].T+"",n,r,h,b=s[17].L,c=[];for(let d=0;d<b.length;d+=1)c[d]=Se(Ne(s,b,d));return{c(){e=m("div"),t=m("p"),n=y(l),r=I();for(let d=0;d<c.length;d+=1)c[d].c();h=I(),this.h()},l(d){e=_(d,"DIV",{class:!0});var w=p(e);t=_(w,"P",{class:!0});var i=p(t);n=S(i,l),i.forEach(f),r=T(w);for(let N=0;N<c.length;N+=1)c[N].l(w);h=T(w),w.forEach(f),this.h()},h(){u(t,"class","font-bold"),u(e,"class","w-full pt-2")},m(d,w){F(d,e,w),o(e,t),o(t,n),o(e,r);for(let i=0;i<c.length;i+=1)c[i].m(e,null);o(e,h)},p(d,w){if(w&279){b=d[17].L;let i;for(i=0;i<b.length;i+=1){const N=Ne(d,b,i);c[i]?c[i].p(N,w):(c[i]=Se(N),c[i].c(),c[i].m(e,h))}for(;i<c.length;i+=1)c[i].d(1);c.length=b.length}},d(d){d&&f(e),Me(c,d)}}}function ze(s){let e,t,l,n,r=s[4].song.T+"",h,b,c,d,w,i,N,C,R,z,Q,P,M,W,v,L,H,A,x,j,V,q,re=s[4].song.T+"",ee,te,K,le,se,X,U,oe,ne,ce,B=s[11]&&Ge(s),D=s[4].song.M&&Je(s),O=s[4].song.M&&Re(s),G=s[4].song.V,E=[];for(let g=0;g<G.length;g+=1)E[g]=Ve(Te(s,G,g));return{c(){e=m("div"),t=m("div"),l=m("div"),n=m("p"),h=y(r),b=I(),c=m("label"),d=y("info"),w=I(),i=m("span"),N=y("star"),R=I(),B&&B.c(),z=I(),D&&D.c(),Q=I(),O&&O.c(),P=I(),M=m("button"),W=y("X"),v=I(),L=m("div");for(let g=0;g<E.length;g+=1)E[g].c();H=I(),A=m("input"),x=I(),j=m("div"),V=m("div"),q=m("h3"),ee=y(re),te=I(),K=m("p"),le=y(s[9]),se=I(),X=m("div"),U=m("label"),oe=y("Ok"),this.h()},l(g){e=_(g,"DIV",{class:!0});var k=p(e);t=_(k,"DIV",{class:!0});var a=p(t);l=_(a,"DIV",{class:!0});var Y=p(l);n=_(Y,"P",{class:!0});var fe=p(n);h=S(fe,r),fe.forEach(f),Y.forEach(f),b=T(a),c=_(a,"LABEL",{for:!0,class:!0});var ue=p(c);d=S(ue,"info"),ue.forEach(f),w=T(a),i=_(a,"SPAN",{class:!0});var he=p(i);N=S(he,"star"),he.forEach(f),R=T(a),B&&B.l(a),z=T(a),D&&D.l(a),Q=T(a),O&&O.l(a),P=T(a),M=_(a,"BUTTON",{class:!0});var de=p(M);W=S(de,"X"),de.forEach(f),a.forEach(f),v=T(k),L=_(k,"DIV",{class:!0});var ge=p(L);for(let ae=0;ae<E.length;ae+=1)E[ae].l(ge);ge.forEach(f),H=T(k),A=_(k,"INPUT",{type:!0,id:!0,class:!0}),x=T(k),j=_(k,"DIV",{class:!0});var me=p(j);V=_(me,"DIV",{class:!0});var J=p(V);q=_(J,"H3",{class:!0});var _e=p(q);ee=S(_e,re),_e.forEach(f),te=T(J),K=_(J,"P",{class:!0});var be=p(K);le=S(be,s[9]),be.forEach(f),se=T(J),X=_(J,"DIV",{class:!0});var pe=p(X);U=_(pe,"LABEL",{for:!0,class:!0});var ve=p(U);oe=S(ve,"Ok"),ve.forEach(f),pe.forEach(f),J.forEach(f),me.forEach(f),k.forEach(f),this.h()},h(){u(n,"class","whitespace-nowrap md:ml-8 text-left md:text-center text-ellipsis text-md md:text-1xl font-bold self-center"),u(l,"class","flex-1 flex overflow-hidden ml-2"),u(c,"for","song-info"),u(c,"class","material-symbols-outlined btn btn-sm btn-circle"),u(i,"class",C=`material-symbols-outlined btn btn-sm btn-circle ${s[3]?"material-symbols-filled":""}`),u(M,"class","btn btn-sm btn-circle"),u(t,"class","w-full flex mt-2 mr-2 gap-1"),u(L,"class","overflow-auto flex flex-col items-center w-full md:max-w-2xl"),u(A,"type","checkbox"),u(A,"id","song-info"),u(A,"class","modal-toggle"),u(q,"class","font-bold text-lg"),u(K,"class","py-4 whitespace-pre-wrap text-left"),u(U,"for","song-info"),u(U,"class","btn uppercase"),u(X,"class","modal-action"),u(V,"class","modal-box"),u(j,"class","modal"),u(e,"class","flex-1 flex flex-col items-center overflow-hidden w-full")},m(g,k){F(g,e,k),o(e,t),o(t,l),o(l,n),o(n,h),o(t,b),o(t,c),o(c,d),o(t,w),o(t,i),o(i,N),o(t,R),B&&B.m(t,null),o(t,z),D&&D.m(t,null),o(t,Q),O&&O.m(t,null),o(t,P),o(t,M),o(M,W),o(e,v),o(e,L);for(let a=0;a<E.length;a+=1)E[a].m(L,null);o(e,H),o(e,A),o(e,x),o(e,j),o(j,V),o(V,q),o(q,ee),o(V,te),o(V,K),o(K,le),o(V,se),o(V,X),o(X,U),o(U,oe),ne||(ce=[Z(i,"click",s[10]),Z(M,"click",Qe)],ne=!0)},p(g,[k]){if(k&8&&C!==(C=`material-symbols-outlined btn btn-sm btn-circle ${g[3]?"material-symbols-filled":""}`)&&u(i,"class",C),g[11]&&B.p(g,k),g[4].song.M&&D.p(g,k),g[4].song.M&&O.p(g,k),k&279){G=g[4].song.V;let a;for(a=0;a<G.length;a+=1){const Y=Te(g,G,a);E[a]?E[a].p(Y,k):(E[a]=Ve(Y),E[a].c(),E[a].m(L,null))}for(;a<E.length;a+=1)E[a].d(1);E.length=G.length}},i:$,o:$,d(g){g&&f(e),B&&B.d(),D&&D.d(),O&&O.d(),Me(E,g),ne=!1,Ae(ce)}}}function Qe(){window.history.state?window.history.back():(alert("REPLACE"),window.history.replaceState(null,"",window.location.host))}function We(s,e,t){let l,n,r;ie(s,Ke,v=>t(12,l=v)),ie(s,Xe,v=>t(13,n=v)),ie(s,Pe,v=>t(14,r=v));let h=r.params.songId;const b=n[Ue].find(v=>v.song.I===h);let c=ke(),d=Ee(),w=Le();function i(){Ce(),t(0,c=ke())}function N(){He(),t(1,d=Ee())}function C(){je(),t(2,w=Le())}function R(v,L){return b.song.M?L===v.L.length-1?"text-green-600":L%2===1?"text-yellow-600":"":""}function z(){let v=new Array;b.song.N!=null&&b.song.N.trim()!==""&&v.push(`Tonart: ${b.song.N}`);for(const L of l){const H=L.S.find(A=>A.V===b.song.I);H&&v.push(`${L.T}: ${H.I}`)}return v.join(`
`)}const Q=z();let P=Fe(b.song.I);const M=()=>{qe(b.song.I),t(3,P=!P)},W=b.song.V.some(v=>v.L.some(L=>L.includes("{")));return[c,d,w,P,b,i,N,C,R,Q,M,W]}class xe extends Be{constructor(e){super(),De(this,e,We,ze,Oe,{})}}export{xe as default};
